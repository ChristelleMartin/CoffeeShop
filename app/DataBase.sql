CREATE TABLE CATEGORY (
  id INT AUTO_INCREMENT,
  name VARCHAR(200) NOT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE CONTENT (
  recipe_id INT NOT NULL,
  category_id INT NOT NULL,
  PRIMARY KEY (recipe_id, category_id)
);

CREATE TABLE RECIPE (
  id INT AUTO_INCREMENT,
  name VARCHAR(200) NOT NULL,
  instructions LONGTEXT NOT NULL,
  published_at DATETIME,
  PRIMARY KEY (id)
);

CREATE TABLE NEED (
  recipe_id INT NOT NULL,
  ingredient_id INT NOT NULL,
  quantity_for_each_ingredient FLOAT,
  PRIMARY KEY (recipe_id, ingredient_id)
);

CREATE TABLE INGREDIENT (
  id INT AUTO_INCREMENT,
  name VARCHAR(200) NOT NULL,
  PRIMARY KEY (id)
);

ALTER TABLE CONTENT 
  ADD FOREIGN KEY (category_id) REFERENCES CATEGORY (id),
  ADD FOREIGN KEY (recipe_id) REFERENCES RECIPE (id);

ALTER TABLE NEED 
  ADD FOREIGN KEY (ingredient_id) REFERENCES INGREDIENT (id),
  ADD FOREIGN KEY (recipe_id) REFERENCES RECIPE (id);